{% extends 'allauth/layouts/entrance.html' %}
{% load i18n %}

{% block head_title %}
  {% trans 'Sign Up' %}
{% endblock %}
{% block content %}
  <form action="{{ request.path }}" method="post" novalidate>
    {% csrf_token %}

    <div class="onboarding-card">
      <div class="text-center mb-4">
        <h3 class="fw-800" style="color: var(--mp-primary);">p<span style="color: var(--mp-dark);">ayMO.</span></h3>
      </div>

      <h4 class="fw-800 mb-2">Create Account</h4>
      <p class="text-muted small mb-4">Join thousands of users managing money smarter.</p>

      {# ================= NON-FIELD ERRORS ================= #}
      {% if form.non_field_errors %}
        <div class="alert alert-danger small">
          {% for error in form.non_field_errors %}
            <div>{{ error }}</div>
          {% endfor %}
        </div>
      {% endif %}

      {# ================= EMAIL ================= #}
      <div class="mb-3">
        <label class="form-label small fw-bold" for="{{ form.email.id_for_label }}">{{ form.email.label|upper }}</label>

        {% if form.email.errors %}
          {% render_field form.email class='form-control is-invalid' placeholder='john@example.com' %}
        {% else %}
          {% render_field form.email class='form-control' placeholder='john@example.com' %}
        {% endif %}

        {% if form.email.help_text %}
          <div class="form-text small text-muted">{{ form.email.help_text }}</div>
        {% endif %}

        {% for error in form.email.errors %}
          <div class="invalid-feedback d-block">{{ error }}</div>
        {% endfor %}
      </div>

      {# ================= PASSWORD 1 ================= #}
      <div class="mb-3">
        <label class="form-label small fw-bold" for="{{ form.password1.id_for_label }}">{{ form.password1.label|upper }}</label>
        {% if form.password1.errors %}
          {% render_field form.password1 class='form-control  is-invalid' placeholder='••••••••' %}
        {% else %}
          {% render_field form.password1 class='form-control' placeholder='••••••••' %}
        {% endif %}


        {% for error in form.password1.errors %}
          <div class="invalid-feedback d-block">{{ error }}</div>
        {% endfor %}
      </div>

      {# ================= PASSWORD 2 ================= #}
      <div class="mb-4">
        <label class="form-label small fw-bold" for="{{ form.password2.id_for_label }}">{{ form.password2.label|upper }}</label>

        {% if form.password2.errors %}
          {% render_field form.password2 class='form-control  is-invalid' placeholder='••••••••' %}
        {% else %}
          {% render_field form.password2 class='form-control' placeholder='••••••••' %}
        {% endif %}
        {% for error in form.password2.errors %}
          <div class="invalid-feedback d-block">{{ error }}</div>
        {% endfor %}
      </div>

      <button type="submit" class="btn btn-mp-primary w-100">Continue</button>

      <p class="text-center mt-4 small fw-600 text-muted">
        Already have an account?
        <a href="{% url 'account_login' %}" class="text-success text-decoration-none">Login</a>
      </p>
    </div>
  </form>
{% endblock %}
